## 🔗 배포 주소
https://whokie.com
---
# WHOKIE 소개

> 쿠키로 친구에게 칭찬을? 오직 Whokie에서!
1. 🔒 **로그인 및 회원가입**
    - 카카오 간편 로그인으로 간단하게 회원가입과 로그인이 가능해요
    - 내 카카오 프로필과 카카오 친구들을 불러올 수 있어요
2. 🎫 **마이페이지로 나를 보여줘요**
    - 마이페이지는 로그인 하지 않은 사람들도 볼 수 있어요
3. 🍪 **쿠키 주기로 친구에게 칭찬을 해요**
    - 어떤 친구에게 쿠키를 줄 지 모르겠다면 선택지를 Reload↻ 할 수 있어요
    - 질문에 적합한 친구가 없다면 질문을 Skip**➔** 할 수 있어요
4. 🏅 **친구에게 랭킹을 자랑해요**
    - 내가 쿠키 받은 질문 Top3를 보여줄 수 있어요
    - 친구의 랭킹을 보면서 친구의 장점을 찾아봐요
5. 💌 **실시간 쿠키 알림**
    - 쿠키를 받으면 실시간으로 나에게 알림이 와요
6. 🔑 **나에게 쿠키를 준 친구에 대한 힌트를 조회해요**
    - 나에게 누가 쿠키를 줬는지 힌트를 볼 수 있어요
    - 힌트는 세 개 까지만 제공돼요
    - 정확한 이름과 정보는 알 수 없어요 힌트로 추측 해볼까요?
7. 📣 **프로필 질문으로 친구들에게 물어봐요**
    - 친구들에게 물어보고 싶은 질문은 프로필 질문으로 질문해요
    - 친구들의 프로필 질문에 익명으로 재밌게 대답해요
8. 🏫 **그룹에서 친구들과 함께 즐겨요**
    - 함께 쿠키 주기를 즐기고 싶은 친구들과 그룹을 만들어요
    - 그룹 랭킹을 보고 우리 그룹의 쿠키 왕을 노려봐요
9. 💸 **포인트를 차곡차곡 모아봐요**
    - 친구에게 쿠키를 주면 포인트를 모을 수 있어요
    - 힌트가 빨리 보고 싶다면 1000원에 100포인트를 구매할 수 있어요
  
Whokie 사용 설명서 링크

# 프로젝트 소개

## 👋🏻 팀원 소개
### BE
|권다운|김건|신형진|유승욱|
|:-----:|:---:|:-----:|:---:|
|[<img src="https://github.com/momnpa333.png" width="100px">](https://github.com/momnpa333)|[<img src="https://github.com/gunGeongun.png" width="100px">](https://github.com/gunGeongun)|[<img src="https://github.com/hjinshin.png" width="100px">](https://github.com/hjinshin)|[<img src="https://github.com/yso8296.png" width="100px">](https://github.com/yso8296)|
|테크리더|리마인더|리액셔너|기획리더|

### FE
|김아진|안희정|정솔빈|
|:-----:|:---:|:-----:|
|[<img src="https://github.com/ppochaco.png" width="100px">](https://github.com/ppochaco)|[<img src="https://github.com/anheejeong.png" width="100px">](https://github.com/anheejeong)|[<img src="https://github.com/solempty.png" width="100px">](https://github.com/solempty)|
|조장|테크리더|타임키퍼|

#### [🔗 1인 1역 자세히보기](https://petal-balaur-9dc.notion.site/1-1-949c39380dce416fa0fff7e11215d127)

### 개발 기간

- 2024.08.19~2024.11.15

## 🎯 프로젝트 목표

- “타인의 긍정적 평가로 나를 알아갈 수 있는 소셜 미디어 플랫폼”을 구현
- 단순 기능 구현을 넘어 대규모 트래픽에서도 안정적인 서비스 제공
- 객체지향 설계 원칙을 준수하고 확장 가능한 아키텍처를 구축
- 철저한 문서화, CI/CD 파이프라인 구축을 통해 효율적인 협업이 가능한 프로젝트 지향
- 실패 케이스를 고려한 견고한 테스트 작성과 높은 테스트 커버리지 유지에 중점
- [Google Java Style Guide](https://google.github.io/styleguide/javaguide.html)를 기반으로 한 코드 컨벤션과 Git 커밋 컨벤션을 준수하여 일관성 있는 코드베이스를 유지

# ⚠️ 프로젝트 이슈
- [테스트 자동화](https://velog.io/@momnpa333/github-actionsspring-test-%EC%9E%90%EB%8F%99%ED%99%94)
- [https, 도메인 통합](https://velog.io/@momnpa333/https-nginx-spring-s3-docker-%EB%A1%9C-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0)
- [성능 테스트 도입기](https://velog.io/@momnpa333/%EC%84%B1%EB%8A%A5%ED%85%8C%EC%8A%A4%ED%8A%B8-ngrinder-%ED%99%9C%EC%9A%A9%ED%95%98%EA%B8%B0)
- [실시간 웹 알림 기능을 구현하기 위해 SSE를 사용한 이유 및 Nginx를 통한 배포에서 발생한 이슈](https://velog.io/@hjinshin/%EC%9B%B9-%EC%95%8C%EB%A6%BC-%EA%B5%AC%ED%98%84)
- [EmbeddedRedis를 TestConfiguration으로 설정했을 때 SpringBootTest에서 Scan되지 않은 이슈](https://velog.io/@hjinshin/TestConfiguration%EC%9D%B4-SpringBootTest%EC%97%90%EC%84%9C-Scan%EB%90%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EC%9D%B4%EC%9C%A0)
- [n+1 해결 시 @EntityGraph 사용](https://geonit.tistory.com/72)
- [카카오페이 api (포인트 결제)](https://geonit.tistory.com/71)
- [Redisson 분산락을 통한 동시성 제어](https://yso8296.tistory.com/29)
- [@Async를 이용한 비동기 처리](https://yso8296.tistory.com/28)
# 프로젝트 구성

### 기술 스택

#### FE
![image](https://github.com/user-attachments/assets/6f3da60d-b7b0-4f64-a789-42e1bf06b4b8)

#### BE
![image](https://github.com/user-attachments/assets/90617785-9cdb-4fec-bc1a-1ef05f72f3de)


- 백엔드 기술 스택 사진 추가해주세용

### 아키텍처

<img width="689" alt="image" src="https://github.com/user-attachments/assets/84f81964-df7f-46af-9983-a5cbc2ec8a62">

### V1. Command,Model 적용
<img width="707" alt="image" src="https://github.com/user-attachments/assets/79d32aab-a04f-443e-b89b-d33dea8cc7ba">

### V2. Service 분리
<img width="703" alt="image" src="https://github.com/user-attachments/assets/70cc556d-ead9-4c07-ab7c-f2a99952194b">

### V2.1. Event, Async 적용
![스크린샷 2024-10-19 221305](https://github.com/user-attachments/assets/76a88b4a-8439-4220-8af7-5d3bc6f30bde)

### V2.2. Redis 적용
![스크린샷 2024-11-14 031642](https://github.com/user-attachments/assets/9d3ba974-4361-4aa8-9fde-b947bc246b73)

### 📊 ERD
<img width="706" alt="image" src="https://github.com/user-attachments/assets/e396eeeb-bb66-4a74-b87d-9ba7bbb5578a">

### 테스트 
* 테스트 커버리지
![image](https://github.com/user-attachments/assets/d62e2c49-3d52-40dd-9c4a-97517e14dd39)

## 🛠 기술 스택

### 프로젝트 기술 스택

- **Framework:** Spring Boot
- **Database:** MySQL, Redis, H2 (테스트용)
- **Infrastructure:** AWS (S3, EC2, etc.)
- **CI/CD:** GitHub Actions, Docker
- **Authentication:** OAuth2.0 (Kakao)
- **Web Server:** NGINX (SSL, 로깅, gzip, proxy_pass 설정)
- **APIs:** Kakao API, KakaoPay API

### 주요 설정 및 참고 사항

- **NGINX**:
    - SSL 설정으로 보안 강화
    - 로그 설정 및 proxy_pass를 통한 경로 라우팅
- **Redis**: JWT 관리 및 캐싱 용도로 사용
- **MySQL**: 주 데이터베이스로 활용
- **EC2 & S3**:
    - EC2에서 애플리케이션 실행
    - S3에서 정적 파일 호스팅
- **GitHub Actions**: 코드 푸시 시 테스트 및 배포 자동화


## 🌳 GIT 브랜치 전략

## 전체 워크플로우

[Whokie 프로젝트 레포지토리 워크 플로우]
<br>
<img width="399" alt="image" src="https://github.com/user-attachments/assets/e4f55217-1524-4e7a-9f6f-cb62df6016d6">

## Git branch 전략

1. 테크리더가 Weekly 브랜치 생성
    - ex) Weekly/8
2. 각자 Issue 브랜치를 생성하여 배정받은 기능 구현
    - ex) Weekly/8/issue#101
    - 구현한 기능은 Weekly 브랜치에 PR
    - 테크리더는 이후 코드리뷰 진행 후 Weekly 브랜치로 merge 진행
3. 프로젝트 리뷰 미팅 통해 오류 해결 및 보고서 작성
    - 테크리더는 이후 Weekly에서 Develop으로 conflit 해결하고 merge 진행
4. 주차별 최종 코드 Develop에서 Master 브랜치로 PR 후 merge 진행
5. Master에서 Prod 브랜치로 merge 진행
6. 정해진 기간 동안 담당 멘토와 코드리뷰 진행 (총 6회 수행)
    - Master에서 Review 브랜치로 merge 진행
    - 코드리뷰 요청시 테크리더가 Review 브랜치에 PR
    - Merge는 담당 멘토가 이후 진행

## 브랜치에 대한 간략한 설명

- **master** : 최종 브랜치로 develop의 브랜치를 Merge
- **develop** : 오류 수정 브랜치로 weekly브랜치에서 conflict 해결 후 작업한 기능들을 Merge
- **weekly** : 주차별 업데이트 코드 추합 브랜치로 이 브랜치를 기준으로 각자 작업한 기능들을 Merge
- **issue** : 단위 기능을 개발하는 브랜치로 기능 개발이 완료되면 weekly 브랜치에 Merge
- **prod** : 배포 서버에 영향을 주는 브랜치로 Master의 브랜치를 Merge
- **review** : 현업 멘토님 코드리뷰 브랜치로 한 주 동안 작성한 기능들을 리뷰받는 브랜치


## 🧪 테스트

- s3 비동기, 동기 테스트
- 테스트커버리지

## **프로젝트 중점사항**

- Service Layer 분리를 통해 순환 참조 가능성 제거
- nGrinder를 활용한 API별 TPS, MTT 관리
- N+1 문제 해결 통한 조회 성능 최적화
- Command, Model 패턴 적용을 통해 변화에 용이한 코드 구조 작성
- PR/머지 시 자동화된 테스트를 통한 코드 안정성 증가
- Nginx의 Reversed-Proxy 활용
- GitHub Actions 및 Docker를 통한 배포 자동화
- dev/prod 서버 분리를 통한 개발 효율성 증가
- 카카오 OAuth2.0을 활용한 로그인 구현
- JWT기반 로그인 인증/인가
- AWS S3를 이용한 프로필/그룹 이미지 저장
- Swagger를 통한 API 문서화
- Nginx와 Certbot을 활용하여 SSL 인증서 관리
- 관리자 페이지를 통한 사용자, 그룹, 질문 등의 효율적 데이터 관리 및 모니터링
- Redis를 활용하여 조회 성능 최적화 및 DB 접근 최소화
- 단위 테스트 및 통합 테스트 작성
- 로그 작성을 통한 서비스 모니터링 및 문제 추적
- SSE를 활용하여 클라이언트에게 실시간 알림 이벤트 발행
- 비동기 처리를 통해 응답 속도 향상
- Redisson Lock 및 동시성 제어
- Mock 객체를 통한 테스트 빌드 시간 감소
- record 도입을 통한 보일러 플레이트 코드 제거
- 카카오페이 api를 사용하여 결제 기능 구현
- ConfigurationProperties를 사용하여 환경변수 주입
- 이슈 발생 시 문서화
- 주2회 대면 팀미팅을 통해 코드 리뷰 및 피드백

